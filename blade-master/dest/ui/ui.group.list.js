define(["UIView",getAppUITemplatePath("ui.group.list")],function(a,b){return _.inherit(a,{propertys:function($super){$super(),this.template=b,this.datamodel={data:[],filter:"name"},this.events={"click .cui-city-t":"groupAction","click .cui-city-n>li":"itemAction"},this.onGroupClick=function(){},this.onItemClick=function(){0}},itemAction:function(a){var b=$(a.currentTarget),c=b.attr("data-group"),d=b.attr("data-index"),e=this.datamodel.data[c].data[d];this.onItemClick&&this.onItemClick.call(this,e,c,d,a)},groupAction:function(a){var b=$(a.currentTarget).parent(),c=b.attr("data-groupindex"),d=this.datamodel.data[c];b.hasClass("cui-arrow-open")?this.closeGroup(c):this.openGroup(c),this.onGroupClick&&this.onGroupClick.call(this,c,d,a)},getFilterList:function(a){var b=this.$('li[data-filter*="'+a+'"]');return b.clone()},openGroup:function(a){this._switchStatus(a,"cui-arrow-close","cui-arrow-open")},closeGroup:function(a){this._switchStatus(a,"cui-arrow-open","cui-arrow-close")},_switchStatus:function(a,b,c){if("undefined"==typeof a)return this.groups.removeClass(b),void this.groups.addClass(c);var d=this.$('li[data-groupindex="'+a+'"]');d.addClass(c),d.removeClass(b)},initElement:function(){this.groups=this.$(".cui-city-itmes>li")},initialize:function($super,a){$super(a)}})});